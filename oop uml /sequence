@startuml
actor Пользователь
participant Система_бронирования as СБ
participant База_данных as БД
participant Платежная_система as ПС

Пользователь -> СБ : Выбор рейса
СБ -> БД: Проверка доступности мест
БД --> СБ: Доступность мест
alt Есть свободные места
    Пользователь -> СБ: Ввод данных пассажира
    СБ -> БД: Сохранение данных пассажира
    БД --> СБ: Данные сохранены
    Пользователь -> СБ: Оплата билета
    СБ -> ПС: Запрос оплаты
    ПС --> СБ: Успешный платеж
    СБ -> БД: Обновление статуса бронирования
    БД --> СБ: Статус обновлен
    СБ -> Пользователь: Подтверждение бронирования
else Нет свободных мест
    СБ -> Пользователь: Информация о недоступности мест
end

    
@enduml
