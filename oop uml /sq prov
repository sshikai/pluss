@startuml
actor Покупатель
participant СистемаЗаказов as SZ
participant СистемаПлатежей as SP
participant СистемаУведомлений as SU

Покупатель -> SZ : Добавить товары в корзину
SZ -> Покупатель : Корзина обновлена
Покупатель -> SZ : Подтвердить заказ
SZ -> SZ : Создать новый заказ
SZ -> SP : Отправляет данные для оплаты

alt Оплата прошла успешно
SP -> SZ : Оплата успешна
SZ -> SZ : Изменить статус на "Оплачен"
SZ -> SU : Отправить уведомление об успешной оплате
SU -> Покупатель : Уведомление об успешной оплате

else Оплата прошла неуспешно
SP -> SZ : Оплата неуспешна
SZ -> SZ : Изменить статус на "Не оплачен"
SZ -> SU : Отправить уведомление о неуспешной оплате
SU -> Покупатель : Уведомление об неуспешной оплате
end



@enduml
